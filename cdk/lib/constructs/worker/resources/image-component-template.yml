name: MyComponentDocument
description: This is an example component document
schemaVersion: 1.0

phases:
  - name: build
    steps:
      - name: InstallUpdates
        action: UpdateOS
        maxAttempts: 3
      - name: InstallDependencies
        action: ExecuteBash
        inputs:
          # commands will be replaced from CDK
          commands: 
            - dummy
  - name: validate
    steps:
      - name: ValidateStep
        action: ExecuteBash
        inputs:
          commands:
            - aws --version || exit 1
            - docker --version || exit 1
            - python --version || exit 1
            - gh --version || exit 1
            - sudo -u ubuntu bash -i -c "uv --version" || exit 1
            - sudo -u ubuntu bash -i -c "uvx --version" || exit 1
            - sudo -u ubuntu bash -i -c "node --version" || exit 1
            - sudo -u ubuntu bash -i -c "npm --version" || exit 1
            - sudo -u ubuntu bash -i -c "npx --version" || exit 1
  - name: test
    steps:
      - name: TestStep
        action: ExecuteBash
        inputs:
          commands:
            - aws --version || exit 1
            - docker --version || exit 1
            - python --version || exit 1
            - gh --version || exit 1
            - sudo -u ubuntu bash -i -c "uv --version" || exit 1
            - sudo -u ubuntu bash -i -c "uvx --version" || exit 1
            - sudo -u ubuntu bash -i -c "node --version" || exit 1
            - sudo -u ubuntu bash -i -c "npm --version" || exit 1
            - sudo -u ubuntu bash -i -c "npx --version" || exit 1
